<!DOCTYPE html>
<html>
<head>
  <title>Student Registration</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body class="bg-light">
<header style="display: flex; justify-content: space-between; align-items: center; padding: 10px 20px; background: white; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
  <div style="display: flex; align-items: center;">
    <img src="https://pminternship.mca.gov.in/assets/img/MCA.svg" alt="MCA Logo" style="height: 50px; margin-right: 20px;">
    <img src="https://pminternship.mca.gov.in/assets/images/img/pm_internship_logo_eng.svg" alt="PM Internship Logo" style="height: 50px;">
  </div>
  <div>
    <a href="login.html" class="btn btn-modern btn-primary-modern m-1" style="min-width: 80px;">Login</a>
    <a href="signup.html" class="btn btn-modern btn-success-modern m-1" style="min-width: 80px;">Sign Up</a>
  </div>
</header>
<div class="container mt-5 fade-in">
  <h2>Student Registration</h2>
  <form id="studentForm">
    <div class="mb-3">
      <label class="form-label">Name</label>
      <input type="text" id="name" class="form-control" placeholder="Enter your name" required>
    </div>
    <div class="mb-3">
      <label class="form-label">Email</label>
      <input type="email" id="email" class="form-control" placeholder="Enter your email" required>
    </div>
    <div class="mb-3">
      <label class="form-label">Skills</label>
      <input type="text" id="skills" class="form-control" placeholder="e.g., Python, JavaScript" required>
    </div>
    <div class="mb-3">
      <label class="form-label">Preferred Location</label>
      <select id="location" class="form-control" onchange="toggleOtherLocation()">
        <option value="">Select a city</option>
        <option value="Mumbai">Mumbai</option>
        <option value="Delhi">Delhi</option>
        <option value="Bangalore">Bangalore</option>
        <option value="Hyderabad">Hyderabad</option>
        <option value="Chennai">Chennai</option>
        <option value="Kolkata">Kolkata</option>
        <option value="Pune">Pune</option>
        <option value="Ahmedabad">Ahmedabad</option>
        <option value="Jaipur">Jaipur</option>
        <option value="Surat">Surat</option>
        <option value="Lucknow">Lucknow</option>
        <option value="Kanpur">Kanpur</option>
        <option value="Nagpur">Nagpur</option>
        <option value="Indore">Indore</option>
        <option value="Bhopal">Bhopal</option>
        <option value="Visakhapatnam">Visakhapatnam</option>
        <option value="Patna">Patna</option>
        <option value="Vadodara">Vadodara</option>
        <option value="Ghaziabad">Ghaziabad</option>
        <option value="Ludhiana">Ludhiana</option>
        <option value="Agra">Agra</option>
        <option value="Nashik">Nashik</option>
        <option value="Faridabad">Faridabad</option>
        <option value="Meerut">Meerut</option>
        <option value="Rajkot">Rajkot</option>
        <option value="Kalyan-Dombivli">Kalyan-Dombivli</option>
        <option value="Vasai-Virar">Vasai-Virar</option>
        <option value="Varanasi">Varanasi</option>
        <option value="Srinagar">Srinagar</option>
        <option value="Aurangabad">Aurangabad</option>
        <option value="Dhanbad">Dhanbad</option>
        <option value="Amritsar">Amritsar</option>
        <option value="Navi Mumbai">Navi Mumbai</option>
        <option value="Allahabad">Allahabad</option>
        <option value="Ranchi">Ranchi</option>
        <option value="Howrah">Howrah</option>
        <option value="Coimbatore">Coimbatore</option>
        <option value="Jabalpur">Jabalpur</option>
        <option value="Gwalior">Gwalior</option>
        <option value="Vijayawada">Vijayawada</option>
        <option value="Jodhpur">Jodhpur</option>
        <option value="Madurai">Madurai</option>
        <option value="Raipur">Raipur</option>
        <option value="Kota">Kota</option>
        <option value="Guwahati">Guwahati</option>
        <option value="Chandigarh">Chandigarh</option>
        <option value="Solapur">Solapur</option>
        <option value="Hubli–Dharwad">Hubli–Dharwad</option>
        <option value="Bareilly">Bareilly</option>
        <option value="Mysore">Mysore</option>
        <option value="Tiruchirappalli">Tiruchirappalli</option>
        <option value="Other">Other</option>
      </select>
      <input type="text" id="otherLocation" class="form-control mt-2" placeholder="Enter other location" style="display:none;">
<script>
function toggleOtherLocation() {
  var locationSelect = document.getElementById('location');
  var otherInput = document.getElementById('otherLocation');
  if (locationSelect.value === 'Other') {
    otherInput.style.display = 'block';
    otherInput.required = true;
  } else {
    otherInput.style.display = 'none';
    otherInput.required = false;
  }
}
</script>
    </div>
    <button type="submit" class="btn btn-modern btn-primary-modern">Register</button>
  </form>
  <a href="index.html" class="btn btn-modern btn-link-modern mt-3">Back to Home</a>
</div>
<div id="matches" class="mt-5" style="display: none;">
  <h3>Matching Internship Opportunities</h3>
  <div id="matchesList"></div>
</div>
<script src="companies.js"></script>
<script src="script.js"></script>
<script>
  document.getElementById('studentForm').addEventListener('submit', async function(event) {
    event.preventDefault();

    const name = document.getElementById('name').value;
    const email = document.getElementById('email').value;
    const skills = document.getElementById('skills').value;
    const locationSelect = document.getElementById('location');
    let location = locationSelect.value;
    if (location === 'Other') {
      location = document.getElementById('otherLocation').value;
    }

    const data = { name, email, skills, location };

    try {
      const response = await fetch('http://localhost:3000/api/register/student', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(data)
      });
      const result = await response.json();
      alert(result.message);
      // Optionally, redirect or update UI
    } catch (error) {
      alert('Registration failed. Please try again.');
    }
  });
</script>
</body>
</html>
